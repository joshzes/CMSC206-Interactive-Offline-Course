<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Topic 4 Quiz</title>
	<link href="../css/bootstrap.min.css" rel="stylesheet">
	<link href="../css/quiz.css" rel="stylesheet">
	<script type="text/javascript" src="../js/external/mootools-core-1.4.5-minified.js"></script>
	<script type="text/javascript" src="../js/dg-quiz-maker.js"></script>
	<meta charset="UTF-8">
</head>

<body>

<div id="quiz-header"> 
	<h2> Topic 4 Quiz</h2>
	<ul>
	<li/>Note that you need to get a perfect score in all the quizzes to be able to take the final exam. 
	<li/>Nevertheless, you can take the quizzes as many times as you want.
	</ul>
	<p> Good luck! :) </p>
	<hr>
</div>
<div id="questions"></div>
<div id="error"></div>
<div id="result"></div>

<script type="text/javascript">

function showWrongAnswer(){
    document.id('error').set('html', 'Wrong answer, Please try again');
}

function showScore() {
	var score = quizMaker.getScore();

	var el = new Element('h3');
	el.set('html', 'Thank you!');
    document.id('result').adopt(el);

	el = new Element('h4');
	el.set('html', 'Score: ' + score.numCorrectAnswers + ' of ' + score.numQuestions + ' = ' + (score.numCorrectAnswers/score.numQuestions*100) + '%');
    document.id('result').adopt(el);

    //Do not show incorrect answers
    
	if(score.incorrectAnswers.length > 0) {
		el = new Element('h4');
		el.set('html', 'Incorrect answers:');
        document.id('result').adopt(el);

		for(var i=0;i<score.incorrectAnswers.length;i++) {
			var incorrectAnswer = score.incorrectAnswers[i];
			el = new Element('div');
			el.set('html', '<b>' +  incorrectAnswer.questionNumber + ': ' + incorrectAnswer.label + '</b>');
			document.id('result').adopt(el);

			el = new Element('div');
			el.set('html', 'Correct answer : ' + incorrectAnswer.correctAnswer);
            document.id('result').adopt(el);
			el = new Element('div');
			el.set('html', 'Your answer : ' + incorrectAnswer.userAnswer);
            document.id('result').adopt(el);

		}
	}
	
}

var _0x3360ce=_0x1d0e;function _0x2066(){var _0x4eddc3=['80397TQdphB','2157DdqVrX','None\x20of\x20the\x20above','True','2930bqpKmb','Have\x20the\x20same\x20domains\x20for\x20their\x20attributes','222826csCwls','1820828SuTJEd','To\x20be\x20union\x20compatible,\x20two\x20relations\x20must:','An\x20inner\x20join\x20is\x20equivalent\x20to\x20a\x20cross\x20product\x20and\x20a\x20select.','4645830BrnYhM','Let\x20be\x20R\x20a\x20relation\x20containing\x20n\x20tuples,\x20and\x20S\x20be\x20a\x20relation\x20containing\x20m\x20tuples.\x20How\x20many\x20tuples\x20will\x20the\x20cross\x20product\x20of\x20R\x20and\x20S\x20(RxS)\x20contain?','False','8386824cTHdhB','n+m','m^n','n^m','Have\x20the\x20same\x20number\x20of\x20attributes','All\x20of\x20the\x20above','1457309oLBAXd','n*m','6668QNYTIh','m-n','30AbhmxP','The\x20relational\x20algebra\x20is\x20the\x20same\x20as\x20the\x20SQL\x20query\x20language'];_0x2066=function(){return _0x4eddc3;};return _0x2066();}function _0x1d0e(_0x4bfb93,_0x1d374d){var _0x2066fb=_0x2066();return _0x1d0e=function(_0x1d0e81,_0x29f250){_0x1d0e81=_0x1d0e81-0xac;var _0x31880a=_0x2066fb[_0x1d0e81];return _0x31880a;},_0x1d0e(_0x4bfb93,_0x1d374d);}(function(_0x432510,_0x319f36){var _0x154225=_0x1d0e,_0x919bb=_0x432510();while(!![]){try{var _0x2ec346=parseInt(_0x154225(0xb4))/0x1+parseInt(_0x154225(0xb5))/0x2+-parseInt(_0x154225(0xaf))/0x3*(-parseInt(_0x154225(0xc3))/0x4)+parseInt(_0x154225(0xb8))/0x5+parseInt(_0x154225(0xac))/0x6*(parseInt(_0x154225(0xc1))/0x7)+-parseInt(_0x154225(0xbb))/0x8+parseInt(_0x154225(0xae))/0x9*(-parseInt(_0x154225(0xb2))/0xa);if(_0x2ec346===_0x319f36)break;else _0x919bb['push'](_0x919bb['shift']());}catch(_0x38c7f1){_0x919bb['push'](_0x919bb['shift']());}}}(_0x2066,0x9b520));var questions=[{'label':_0x3360ce(0xb9),'options':[_0x3360ce(0xbc),_0x3360ce(0xbe),_0x3360ce(0xbd),_0x3360ce(0xc4),_0x3360ce(0xc2)],'answer':[_0x3360ce(0xc2)]},{'label':_0x3360ce(0xad),'options':[_0x3360ce(0xb1),_0x3360ce(0xba)],'answer':['False']},{'label':_0x3360ce(0xb6),'options':[_0x3360ce(0xbf),_0x3360ce(0xb3),_0x3360ce(0xc0),_0x3360ce(0xb0)],'answer':[_0x3360ce(0xc0)]},{'label':_0x3360ce(0xb7),'options':[_0x3360ce(0xb1),'False'],'answer':['True']}];

function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

function showAnswerAlert() {
	document.id('error').set('html', 'You have to answer before you continue to the next question');
}
function clearErrorBox() {
    document.id('error').set('html','');
}

ITEM_COUNT = 10
random_questions = shuffle(questions).slice(0,ITEM_COUNT)

var quizMaker = new DG.QuizMaker({
	questions : shuffle(random_questions),
	el : 'questions',
    forceCorrectAnswer:false,
	listeners : {
		'finish' : showScore,
		'missinganswer' : showAnswerAlert,
		'sendanswer' : clearErrorBox,
        'wrongAnswer' : showWrongAnswer
	}
});



quizMaker.start();


</script>

</body>
</html>